!function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}(),function(a){"use strict";var b={define:function(a,c){var d=this._modifyDefinition(c),e=this._getModule(d),f=this._generateClass(e,a),g=c.alias;b.regist(a,f),c.alias&&b.regist(g,this._getRegistedClass(a))},regist:function(b,c){for(var d,e=b.split("."),f=e.length,g=0,h=a;f>g;g++)d=e[g],"undefined"==typeof h[d]&&(h[d]=g===e.length-1?c:{}),h=h[d]},keys:function(a){var c,d=b.isObject(a),e=Object.keys,f=[];d||(f=[]),e&&(f=Object.keys(a));for(c in a)a.hasOwnProperty(c)&&f.push(c);return f},isObject:function(a){return a===Object(a)},isUndefined:function(a){return void 0===a},_makeWhetherFun:function(){var a=this,b=["Function","String","Number","Date"];$.each(b,function(b,c){a["is"+c]=function(a){return Object.prototype.toString.call(a)==="[object "+c+"]"}})},_getRegistedClass:function(b){for(var c,d=b.split("."),e=d.length,f=0,g=a;e>f;f++)c=d[f],g=g[c];return g},_getModule:function(a){var c,d;if(this.isUndefined(a.extend))d=b.core.BaseClass;else{if(!this.isFunction(a.extend))return console.error("you should set sub class of lib/Class.js"),void 0;d=a.extend}return c=d.extend(a),c.$parentClass=d,c},_generateClass:function(a,b){var c;return c=a.prototype.singleton?new a:a,c.$className=b,c},_modifyDefinition:function(a){var b;return b=this._addGetSetter(a)},_addGetSetter:function(a){var b,c,d;for(d in a)b=a[d],!this.isFunction(b)&&a.hasOwnProperty(d)&&(c=this._conbineUpperStr("get",d),a[c]=this._getGetSetFunc("get",a,d),c=this._conbineUpperStr("set",d),a[c]=this._getGetSetFunc("set",a,d));return a},_conbineUpperStr:function(a,b){var c=b.charAt(0).toUpperCase(),d=b.slice(1);return a+c+d},_getGetSetFunc:function(a,b,c){var d;return d="get"===a?function(){return this[c]}:function(a){this[c]=a}}};b.regist("Global",b),b._makeWhetherFun()}(window),function(){"use strict";Global.define("Global.core.BaseClass",{alias:"Global.BaseClass",extend:Class,init:function(a){this.config=a,this._applyConfig(a)},_applyConfig:function(a){for(var b in a)this[b]=a[b]}})}(),function(){"use strict";Global.define("Global.event.Event",{init:function(a){this._super(a),this.target=a.target,this.type=a.type,this.data=a.data}})}(),function(){"use strict";Global.define("Global.event.EventDispatcher",{init:function(a){this.listeners={},this._super(a)},addEventListener:function(a,b){(this.listeners[a]||(this.listeners[a]=[])).push(b)},hasEventListener:function(a){return!!this.listeners[a]},removeEventListener:function(a,b){var c=this.listeners[a];if(c)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1)},onesEventListener:function(a,b){var c=this,d=function(e){c.removeEventListener(a,d),b.apply(c,[e]),d=null};this.addEventListener(a,d)},dispatchEvent:function(a,b){var c=this.listeners[a],d=new Global.event.Event({target:this,type:a,data:b});if(c){c=c.concat();for(var e=0,f=c.length;f>e;e++)c[e].apply(this,[d])}}})}(),function(){"use strict";Global.define("Global.core.ObservableClass",{alias:"Global.ObservableClass",extend:Global.event.EventDispatcher})}(),function(){"use strict";Global.define("Global.core.Array",{alias:"Global.Array",singleton:!0,isArray:function(a){return a instanceof Array},args2Array:function(a){return a instanceof Array?a:Array.prototype.slice.call(a)},map2Array:function(a){var b,c=[];for(b in a)c.push(a[b]);return c},each:function(a,b){for(var c=a.length,d=0;c>d;d++)b(d,a[d])},contains:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1}})}(),function(){"use strict";Global.define("Global.core.Functions",{alias:"Global.Functions",singleton:!0,createDebounce:function(a){var b=new Global.util.functions.Debounce(a);return function(){var a=Global.core.Array.args2Array(arguments);b.execute.apply(b,a)}},bind:function(a,b,c){var d;return function(){d=Global.core.Array.args2Array(arguments),Global.core.Array.isArray(c)&&(d=d.concat(c)),a.apply(b,d)}}})}(),function(){"use strict";Global.define("Global.data.Map",{singleton:!0,list2Map:function(a,b){var c={};return $.each(a,function(a,d){c[d[b]]=d}),c}})}(),function(){"use strict";Global.define("Global.math.Random",{singleton:!0,getRandomNum:function(a){return Math.floor(Math.random()*a+1)},getRandomNumList:function(a){var b,c,d,e=new Array(a);for(e[0]=0,b=a-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=e[b]||b,e[b]=e[c]||c,e[c]=d;return e}})}(),function(){"use strict";Global.define("Global.util.functions.Debounce",{init:function(a){this.timer=null,this._super(a)},execute:function(){var a={callback:this.callback,args:Global.core.Array.args2Array(arguments),scope:this.scope||this,interval:this.interval||1e3,immediate:this.immediate};return this.timer?!1:(this._switchExecute(a),void 0)},_switchExecute:function(a){a.immediate?this._executeBefore(a.callback,a.args,a.scope,a.interval):this._executeAfter(a.callback,a.args,a.scope,a.interval)},_executeBefore:function(a,b,c,d){var e=this;a.apply(c,b),e.timer=setTimeout(function(){e.timer=null},d)},_executeAfter:function(a,b,c,d){var e=this;e.timer=setTimeout(function(){a.apply(c,b),e.timer=null},d)}})}(),function(){"use strict";Global.define("Global.util.PreLoad",{extend:Global.core.ObservableClass,srcs:[],imgs:[],eventName:{load:"load",loadEnd:"loadend"},init:function(a){this.srcs=[],this.imgs=[],this._super(a)},load:function(){var a=this.getSrcs(),b=document.createElement("img"),c=[];Global.core.Array.each(a,function(a,d){c.push({img:b.cloneNode(),src:d})}),this._prepareImages(c)},_prepareImages:function(a){var b=this;Global.core.Array.each(a,function(a,c){c.img.onload=Global.core.Functions.bind(b._onLoad,b),c.img.src=c.src,c.img.complete&&b._onLoad({currentTarget:c.img})})},_onLoad:function(a){var b,c,d,e=this.getSrcs(),f=this.getImgs();d=a?a.currentTarget:window.event.srcElement,f.push(d),b=this._getPercentage(e.length,f.length),this.setImgs(f),c=this._getEventData(d,b),this._doDispatchEvent(c)},_doDispatchEvent:function(a){var b=this.getEventName();this.dispatchEvent(b.load,a),100===a.percentage&&this.dispatchEvent(b.loadEnd,a)},_getPercentage:function(a,b){return b/a*100},_getEventData:function(a,b){return{current:a,percentage:b}}})}(),function(){"use strict";Global.define("Global.util.SpriteSheet",{classList:[],interval:500,targetSelector:null,$elm:null,count:0,intervalId:null,init:function(a){this.$elm=$(a.targetSelector),this._super(a)},execute:function(){var a=this;a.intervalId=setInterval(function(){a.doSprite(a.count)},a.interval)},doSprite:function(a){var b=this,c=b.getClass(a);b.$elm.removeClass(c.current),b.$elm.addClass(c.next),b.countUp(a)},countUp:function(a){a===this.classList.length-1?a=0:a+=1,this.count=a},getClass:function(a){var b=this;return{current:b.classList[a],next:b.classList[a+1]}}})}(),function(){"use strict";Global.define("Global.util.RequestAnimationFrame",{singleton:!0,init:function(a){this.polyfill(),this._super(a)},start:function(a){return this.raf.apply(window,[a])},cancel:function(a){return this.caf(a)},polyfill:function(){var a=window,b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.msRequestAnimationFrame||a.oRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},c=a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.msCancelAnimationFrame||a.msCancelRequestAnimationFrame||a.oCancelAnimationFrame||a.oCancelRequestAnimationFrame||function(a){clearTimeout(a)};this.raf=b,this.caf=c}})}(),function(){"use strict";Global.define("Global.app.Controller",{refs:{},events:{},init:function(a){this.elmCaches={},this._super(a),this._setElmCaches(this.getRefs()),a&&a.events&&this._applyEvents(a.events)},getCacheRef:function(a,b){var c=this.elmCaches[a],d=!c&&b?$(b):void 0;return!c&&d&&(this.elmCaches[a]=d),d&&0!==d.length?d:void 0},_setElmCaches:function(a){var b,c=this;for(b in a)c.getCacheRef(b,a[b])},_applyEvents:function(a){var b,c,d,e=this;$.each(a,function(a,f){return(b=e.getCacheRef(a))?(c=Global.keys(f)[0],d=f[c],Global.isObject(d)&&d.delegate?b.on(c,d.delegate,$.proxy(e[d.handler],e)):Global.isString(d)&&b.on(c,$.proxy(e[d],e)),void 0):!1})}})}();